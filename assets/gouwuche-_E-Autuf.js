import"./index-DzeyjNAw.js";import"./request-CGeKHk3j.js";import{B as z}from"./index-BGiY52Zb.js";import{S as B}from"./index-DGkifMhh.js";import{c as I,s as N}from"./index-BnIWiAh2.js";import{N as G}from"./index-DrmGwNqa.js";import{c as w,e as E,t as O,d as q,h as R,i as j,O as D,P as F,Q as K,a as r,R as T,k as U,w as H,_ as J,r as L,S as M,p,G as t,D as e,v as u,N as x,T as k,U as b,M as $,F as Q,E as X,q as V,s as h,V as Y,J as A,K as W,I as Z}from"./index-Bo7BXbGR.js";import{_ as ee}from"./empty-_cz67sAE.js";import{u as te}from"./cart-AW91Fwhi.js";import"./use-route-Ty0eFOKu.js";const[se,Te]=w("checkbox-group"),oe=Symbol(se),[ne,ae]=w("checkbox"),le=E({},I,{shape:String,bindGroup:O,indeterminate:{type:Boolean,default:null}});var ie=q({name:ne,props:le,emits:["change","update:modelValue"],setup(o,{emit:s,slots:a}){const{parent:c}=R(oe),C=d=>{const{name:g}=o,{max:f,modelValue:S}=c.props,i=S.slice();if(d)!(f&&i.length>=+f)&&!i.includes(g)&&(i.push(g),o.bindGroup&&c.updateValue(i));else{const m=i.indexOf(g);m!==-1&&(i.splice(m,1),o.bindGroup&&c.updateValue(i))}},_=j(()=>c&&o.bindGroup?c.props.modelValue.indexOf(o.name)!==-1:!!o.modelValue),l=(d=!_.value)=>{c&&o.bindGroup?C(d):s("update:modelValue",d),o.indeterminate!==null&&s("change",d)};return D(()=>o.modelValue,d=>{o.indeterminate===null&&s("change",d)}),F({toggle:l,props:o,checked:_}),K(()=>o.modelValue),()=>r(N,U({bem:ae,role:"checkbox",parent:c,checked:_.value,onToggle:l},o),T(a,["default","icon"]))}});const ce=H(ie),y=o=>(A("data-v-e69d5ce7"),o=o(),W(),o),de={class:"cart"},ue={key:0},re={class:"cart-title"},_e={class:"all"},me={class:"cart-list"},pe={class:"show"},he=["src"],ge={class:"info"},fe={class:"tit text-ellipsis-2"},ve={class:"bottom"},xe={class:"price"},ke={class:"footer-fixed"},be={class:"all-check"},Ce={class:"all-total"},Se={class:"price"},Ve=y(()=>e("span",null,"合计：",-1)),ye={class:"totalPrice"},Pe={key:0},$e={key:1},we={class:"kong"},ze=y(()=>e("img",{src:ee,alt:""},null,-1)),Be=y(()=>e("p",null,"您的购物车是空的, 快去逛逛吧",-1)),Ie={__name:"gouwuche",setup(o){let s=te(),a=L(!0),c=M();function C(){var _;c.push({path:"/zhifu",query:{mode:"cart",cartIds:(_=s.xuanzhong)==null?void 0:_.map(l=>l.id).join(",")}})}return(_,l)=>{var m,P;const d=G,g=Z,f=ce,S=B,i=z;return h(),p("div",de,[r(d,{title:"购物车",fixed:""}),t(s).list.length!==0?(h(),p("div",ue,[e("div",re,[e("span",_e,[u("共"),e("i",null,x(t(s).shuliang),1),u("件商品")]),k(e("span",{class:"edit",onClick:l[0]||(l[0]=n=>$(a)?a.value=!t(a):a=!t(a))},[r(g,{name:"edit"}),u(" 编辑 ")],512),[[b,t(a)]]),k(e("span",{style:{"font-size":"18px",color:"#fa2209"},onClick:l[1]||(l[1]=n=>$(a)?a.value=!t(a):a=!t(a))}," 完成 ",512),[[b,!t(a)]])]),e("div",me,[(h(!0),p(Q,null,X(t(s).list,n=>(h(),p("div",{class:"cart-item",key:n},[r(f,{"model-value":n.isSelected,onClick:v=>t(s).xuan(n)},null,8,["model-value","onClick"]),e("div",pe,[e("img",{src:n.goods.goods_image,alt:""},null,8,he)]),e("div",ge,[e("span",fe,x(n.goods.goods_name),1),e("span",ve,[e("div",xe,[u("¥ "),e("span",null,x(n.goods.goods_price_min),1)]),r(S,{onChange:v=>t(s).gaiShu(n.goods_id,v,n.goods_sku_id),"model-value":n.goods_num,min:1,max:n.stock_total},null,8,["onChange","model-value","max"])])])]))),128))]),e("div",ke,[e("div",be,[r(f,{"model-value":t(s).jue,onClick:l[2]||(l[2]=n=>t(s).quan(!t(s).jue)),"icon-size":"18"},null,8,["model-value"]),u(" 全选 ")]),e("div",Ce,[e("div",Se,[Ve,e("span",null,[u("¥ "),e("i",ye,x(t(s).qian),1)])]),k(r(i,{disabled:((m=t(s).xuanzhong)==null?void 0:m.length)===0,class:"goPay",onClick:C},{default:V(()=>{var n,v;return[u("结算"),((n=t(s).xuanzhong)==null?void 0:n.length)!==0?(h(),p("span",Pe,"("+x((v=t(s).xuanzhong)==null?void 0:v.length)+")",1)):Y("",!0)]}),_:1},8,["disabled"]),[[b,t(a)]]),k(r(i,{disabled:((P=t(s).xuanzhong)==null?void 0:P.length)===0,class:"delete",onClick:l[3]||(l[3]=n=>t(s).shan())},{default:V(()=>[u("删除")]),_:1},8,["disabled"]),[[b,!t(a)]])])])])):(h(),p("div",$e,[e("div",we,[ze,Be,r(i,{style:{width:"110px",margin:"0 auto","font-size":"16px",height:"32px","line-height":"32px","text-align":"center",color:"#fff","border-radius":"25px",background:"linear-gradient(90deg, #f9211c, #ff6335)"},onClick:l[4]||(l[4]=n=>_.$router.push("/"))},{default:V(()=>[u("去逛逛")]),_:1})])]))])}}},Ue=J(Ie,[["__scopeId","data-v-e69d5ce7"]]);export{Ue as default};
