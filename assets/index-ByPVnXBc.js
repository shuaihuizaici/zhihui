import{u as O}from"./index-DzeyjNAw.js";import{c as I,t as B,n as x,m as $,d as k,r as w,u as R,a as c,g as N,B as j,b as E,w as V,e as F,f as M,h as z,i as q,j as D,k as K,I as U,l as Y,o as Z,p as G,q as b,F as H,s as J,v as _,x as L}from"./index-Bo7BXbGR.js";import{r as Q,u as W}from"./use-route-Ty0eFOKu.js";const[y,C]=I("tabbar"),X={route:Boolean,fixed:B,border:B,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:$(0),safeAreaInsetBottom:{type:Boolean,default:null}},A=Symbol(y);var ee=k({name:y,props:X,emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const m=w(),{linkChildren:u}=R(A),s=O(m,C),l=()=>{var o;return(o=e.safeAreaInsetBottom)!=null?o:e.fixed},n=()=>{var o;const{fixed:r,zIndex:i,border:f}=e;return c("div",{ref:m,role:"tablist",style:N(i),class:[C({fixed:r}),{[j]:f,"van-safe-area-bottom":l()}]},[(o=a.default)==null?void 0:o.call(a)])};return u({props:e,setActive:(o,r)=>{E(e.beforeChange,{args:[o],done(){t("update:modelValue",o),t("change",o),r()}})}}),()=>e.fixed&&e.placeholder?s(n):n()}});const ae=V(ee),[te,g]=I("tabbar-item"),ne=F({},Q,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var oe=k({name:te,props:ne,emits:["click"],setup(e,{emit:t,slots:a}){const m=W(),u=M().proxy,{parent:s,index:l}=z(A);if(!s)return;const n=q(()=>{var r;const{route:i,modelValue:f}=s.props;if(i&&"$route"in u){const{$route:h}=u,{to:v}=e,d=Y(v)?v:{path:v};return!!h.matched.find(P=>{const T="path"in d&&d.path===P.path,S="name"in d&&d.name===P.name;return T||S})}return((r=e.name)!=null?r:l.value)===f}),p=r=>{var i;n.value||s.setActive((i=e.name)!=null?i:l.value,m),t("click",r)},o=()=>{if(a.icon)return a.icon({active:n.value});if(e.icon)return c(U,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var r;const{dot:i,badge:f}=e,{activeColor:h,inactiveColor:v}=s.props,d=n.value?h:v;return c("div",{role:"tab",class:g({active:n.value}),style:{color:d},tabindex:0,"aria-selected":n.value,onClick:p},[c(D,K({dot:i,class:g("icon"),content:f},e.badgeProps),{default:o}),c("div",{class:g("text")},[(r=a.default)==null?void 0:r.call(a,{active:n.value})])])}}});const re=V(oe),ie={__name:"index",setup(e){const t=w(0);let a=Z();return a.path=="/sy"?t.value=0:a.path=="/fenlei"?t.value=1:a.path=="/gouwuche"?t.value=2:a.path=="/wode"&&(t.value=3),(m,u)=>{const s=L("router-view"),l=re,n=ae;return J(),G(H,null,[c(s),c(n,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=p=>t.value=p),fixed:"","active-color":"#ee0a24","inactive-color":"#000"},{default:b(()=>[c(l,{replace:"",to:"/sy",icon:"home-o"},{default:b(()=>[_("首页")]),_:1}),c(l,{replace:"",to:"/fenlei",icon:"apps-o"},{default:b(()=>[_("分类")]),_:1}),c(l,{replace:"",to:"/gouwuche",icon:"shopping-cart-o"},{default:b(()=>[_("购物车")]),_:1}),c(l,{replace:"",to:"/wode",icon:"friends-o"},{default:b(()=>[_("我的")]),_:1})]),_:1},8,["modelValue"])],64)}}};export{ie as default};
