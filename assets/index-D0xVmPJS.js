import"./index-DzeyjNAw.js";import{C as y}from"./index-D_HlEWVc.js";import"./request-CGeKHk3j.js";import{B as A}from"./index-BGiY52Zb.js";import{c as L,s as D}from"./index-BnIWiAh2.js";import{N as z}from"./index-DrmGwNqa.js";import{a as E,g as R,s as N}from"./address-BX750gIF.js";import{c as g,d as b,u as j,O,Q as G,a as o,n as I,ac as M,w as h,ad as F,t as _,$ as C,a2 as K,I as $,e as S,h as Y,R as q,k as H,ae as Q,af as T,_ as U,r as x,C as J,p as W,D as X,G as Z,M as ee,Y as te,s as ae}from"./index-Bo7BXbGR.js";import"./use-route-Ty0eFOKu.js";const[w,ne]=g("radio-group"),se={shape:String,disabled:Boolean,iconSize:I,direction:String,modelValue:M,checkedColor:String},B=Symbol(w);var oe=b({name:w,props:se,emits:["change","update:modelValue"],setup(e,{emit:n,slots:s}){const{linkChildren:r}=j(B),u=i=>n("update:modelValue",i);return O(()=>e.modelValue,i=>n("change",i)),r({props:e,updateValue:u}),G(()=>e.modelValue),()=>{var i;return o("div",{class:ne([e.direction]),role:"radiogroup"},[(i=s.default)==null?void 0:i.call(s)])}}});const de=h(oe),[le,V]=g("tag"),ie={size:String,mark:Boolean,show:_,type:C("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var re=b({name:le,props:ie,emits:["close"],setup(e,{slots:n,emit:s}){const r=a=>{a.stopPropagation(),s("close",a)},u=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},i=()=>{var a;const{type:t,mark:d,plain:l,round:c,size:m,closeable:k}=e,p={mark:d,plain:l,round:c};m&&(p[m]=m);const P=k&&o($,{name:"cross",class:[V("close"),K],onClick:r},null);return o("span",{style:u(),class:V([p,t])},[(a=n.default)==null?void 0:a.call(n),P])};return()=>o(F,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?i():null]})}});const ce=h(re),ue=S({},L,{shape:String}),[me,fe]=g("radio");var ge=b({name:me,props:ue,emits:["update:modelValue"],setup(e,{emit:n,slots:s}){const{parent:r}=Y(B),u=()=>(r?r.props.modelValue:e.modelValue)===e.name,i=()=>{r?r.updateValue(e.name):n("update:modelValue",e.name)};return()=>o(D,H({bem:fe,role:"radio",parent:r,checked:u(),onToggle:i},e),q(s,["default","icon"]))}});const be=h(ge),[ve,f]=g("address-item");var he=b({name:ve,props:{address:Q(Object),disabled:Boolean,switchable:Boolean,defaultTagText:String,rightIcon:C("edit")},emits:["edit","click","select"],setup(e,{slots:n,emit:s}){const r=t=>{e.switchable&&s("select"),s("click",t)},u=()=>o($,{name:e.rightIcon,class:f("edit"),onClick:t=>{t.stopPropagation(),s("edit"),s("click",t)}},null),i=()=>{if(n.tag)return n.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return o(ce,{type:"primary",round:!0,class:f("tag")},{default:()=>[e.defaultTagText]})},a=()=>{const{address:t,disabled:d,switchable:l}=e,c=[o("div",{class:f("name")},[`${t.name} ${t.tel}`,i()]),o("div",{class:f("address")},[t.address])];return l&&!d?o(be,{name:t.id,iconSize:18},{default:()=>[c]}):c};return()=>{var t;const{disabled:d}=e;return o("div",{class:f({disabled:d}),onClick:r},[o(y,{border:!1,titleClass:f("title")},{title:a,"right-icon":u}),(t=n.bottom)==null?void 0:t.call(n,S({},e.address,{disabled:d}))])}}});const[ke,v,_e]=g("address-list"),Ce={list:T(),modelValue:I,switchable:_,disabledText:String,disabledList:T(),showAddButton:_,addButtonText:String,defaultTagText:String,rightIcon:C("edit")};var pe=b({name:ke,props:Ce,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:n,emit:s}){const r=(a,t,d)=>{const l=()=>s(d?"editDisabled":"edit",a,t),c=k=>s("clickItem",a,t,{event:k}),m=()=>{s(d?"selectDisabled":"select",a,t),d||s("update:modelValue",a.id)};return o(he,{key:a.id,address:a,disabled:d,switchable:e.switchable,defaultTagText:e.defaultTagText,rightIcon:e.rightIcon,onEdit:l,onClick:c,onSelect:m},{bottom:n["item-bottom"],tag:n.tag})},u=(a,t)=>{if(a)return a.map((d,l)=>r(d,l,t))},i=()=>e.showAddButton?o("div",{class:[v("bottom"),"van-safe-area-bottom"]},[o(A,{round:!0,block:!0,type:"primary",text:e.addButtonText||_e("add"),class:v("add"),onClick:()=>s("add")},null)]):void 0;return()=>{var a,t;const d=u(e.list),l=u(e.disabledList,!0),c=e.disabledText&&o("div",{class:v("disabled-text")},[e.disabledText]);return o("div",{class:v()},[(a=n.top)==null?void 0:a.call(n),o(de,{modelValue:e.modelValue},{default:()=>[d]}),c,l,(t=n.default)==null?void 0:t.call(n),i()])}}});const Te=h(pe),xe={class:"dizhi"},Ve={class:"content"},Ie={__name:"index",setup(e){const n=x([]);let s=x();async function r(){let a=await E();s.value=a.data.defaultId}async function u(){let a=await R();n.value=a.data.list.map(l=>({id:l.address_id,name:l.name,tel:l.phone,address:Object.values(l.region).join("  ")+" "+l.detail}));let t=n.value.findIndex(l=>l.id===s.value),d=n.value.splice(t,1);n.value.unshift(...d)}async function i(){await N(s.value),te("选择成功")}return J(()=>{u(),r()}),(a,t)=>{const d=z,l=Te;return ae(),W("div",xe,[o(d,{title:"收货地址",fixed:"","left-arrow":"",onClickLeft:t[0]||(t[0]=c=>a.$router.back())}),X("div",Ve,[o(l,{modelValue:Z(s),"onUpdate:modelValue":t[1]||(t[1]=c=>ee(s)?s.value=c:s=c),list:n.value,onAdd:t[2]||(t[2]=c=>a.$router.push("/xinzengdizhi")),onEdit:t[3]||(t[3]=(c,m)=>a.$router.push(`/bianjidizhi/?addressId=${c.id}`)),onSelect:i},null,8,["modelValue","list"])])])}}},ze=U(Ie,[["__scopeId","data-v-cd0d9991"]]);export{ze as default};
